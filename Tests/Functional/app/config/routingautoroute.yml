symfony_cmf_routing_auto:

    auto_route_definitions:

        ## 
        # e.g. /cms/auto-route/blog/my-blogs-title
        Symfony\Cmf\Bundle\RoutingAutoBundle\Tests\Functional\app\Document\Blog:

            # generate or use path components leading up to the final part of the path
            chain:
                base:
                    path_provider: 
                        name: specified
                        path: /cms/auto-route/blog
                    exists_action: 
                        strategy: use
                        patcher: generic
                    not_exists_action: 
                        strategy: create
                        patcher: generic

            # the object route corresponds to the final element of the path
            # content_element:
            #     path_provider: 
            #         name: from_object_method
            #         method: getTitle

        ##
        # e.g. /cms/auto-route/blog/my-blogs-title/2013-04-09/my-post-title
        Symfony\Cmf\Bundle\RoutingAutoBundle\Tests\Functional\app\Document\Post:

            # strategy to use to patch in routes for path components that do not exist.
            route_patcher:
                name: generic

            endpoint_setter:
                name: auto_route

            chain:

                # /cms/auto-route/blog/my-blogs-title
                blog_path:
                    path_provider:
                        name: specified
                        from_method: getBlogRoutePath
                    path_exists_action: 
                        strategy: use
                    path_not_exists_action: 
                        strategy: throw_exception

                # 2013-04-09
                date:
                    path_provider: 
                        name: date
                        format: yyyy-mm-dd
                        from_method: getPublishedAt
                    exists_action: 
                        strategy: use
                    not_exists_action: 
                        strategy: create

                # my-post-title
                # post_title:
                #     path_provider: 
                #         name: slugify_object_method
                #         from_method: getTitle
                #         slugfier: symfony_cmf_routing_auto.default_slugifier
                #     exists_action: 
                #         strategy: auto_increment
                #         pattern: -%d
                #     not_exists_action: 
                #         strategy: create
